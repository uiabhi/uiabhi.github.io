<!DOCTYPE html>
<html>
<head>
	<title>Pin Code Information</title>
</head>
<body>
	<form id="form">
		<textarea id="pincodes" rows="10" cols="30"></textarea>
		<br><br>
		<button type="button" onclick="getInformation()">Submit</button>
	</form>
	<br><br>
	<table id="result" border="1" style="display: none;">
		<tr>
			<th>Pin Code</th>
			<th>State</th>
			<th>Circle</th>
			<th>Region</th>
			<th>District</th>
		</tr>
	</table>

	<script>
		async function getInformation() {
			const pincodes = document.getElementById('pincodes').value.split('\n');
			const resultTable = document.getElementById('result');
			resultTable.style.display = 'block';
			var nsi=0;
			for (const pincode of pincodes) {
				
				const response = await 	fetch(`https://api.postalpincode.in/pincode/${pincode.trim()}`);
				const data = await response.json();
				const state = data[0].PostOffice[0].State;
				const circle = data[0].PostOffice[0].Circle;
				const region = data[0].PostOffice[0].Region;
				const district = data[0].PostOffice[0].District;
				
				const slno = resultTable.insertRow();
				const row = resultTable.insertRow();
				const pincodeCell = row.insertCell();
				const stateCell = row.insertCell();
				const circleCell = row.insertCell();
				const regionCell = row.insertCell();
				const districtCell = row.insertCell();
				pincodeCell.innerHTML = pincode.trim();
				stateCell.innerHTML = state;
				circleCell.innerHTML = circle;
				regionCell.innerHTML = region;
				districtCell.innerHTML = district;

				
			}
		}
	</script>
</body>
</html>